{"version":3,"sources":["../../../src/drivers/wa-sqlite/adapter.ts"],"sourcesContent":["import { Database } from './database'\nimport { Row } from '../../util/types'\nimport { Statement } from '../../util'\nimport { SerialDatabaseAdapter as GenericDatabaseAdapter } from '../generic'\nimport { RunResult } from '../../electric/adapter'\n\nexport class DatabaseAdapter extends GenericDatabaseAdapter {\n  readonly db: Database\n  readonly defaultNamespace = 'main'\n\n  constructor(db: Database) {\n    super()\n    this.db = db\n  }\n\n  private exec(statement: Statement): Promise<Row[]> {\n    return this.db.exec(statement)\n  }\n\n  private getRowsModified() {\n    return this.db.getRowsModified()\n  }\n\n  async _run(statement: Statement): Promise<RunResult> {\n    await this.exec(statement)\n    return {\n      rowsAffected: this.getRowsModified(),\n    }\n  }\n\n  _query(statement: Statement): Promise<Row[]> {\n    return this.exec(statement)\n  }\n}\n"],"mappings":"AAGA,SAAS,yBAAyB,8BAA8B;AAGzD,MAAM,wBAAwB,uBAAuB;AAAA,EACjD;AAAA,EACA,mBAAmB;AAAA,EAE5B,YAAY,IAAc;AACxB,UAAM;AACN,SAAK,KAAK;AAAA,EACZ;AAAA,EAEQ,KAAK,WAAsC;AACjD,WAAO,KAAK,GAAG,KAAK,SAAS;AAAA,EAC/B;AAAA,EAEQ,kBAAkB;AACxB,WAAO,KAAK,GAAG,gBAAgB;AAAA,EACjC;AAAA,EAEA,MAAM,KAAK,WAA0C;AACnD,UAAM,KAAK,KAAK,SAAS;AACzB,WAAO;AAAA,MACL,cAAc,KAAK,gBAAgB;AAAA,IACrC;AAAA,EACF;AAAA,EAEA,OAAO,WAAsC;AAC3C,WAAO,KAAK,KAAK,SAAS;AAAA,EAC5B;AACF;","names":[]}