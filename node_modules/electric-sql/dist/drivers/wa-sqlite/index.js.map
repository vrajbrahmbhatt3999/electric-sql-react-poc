{"version":3,"sources":["../../../src/drivers/wa-sqlite/index.ts"],"sourcesContent":["import { DatabaseAdapter } from './adapter'\nimport { ElectricDatabase } from './database'\nimport { ElectricConfig } from '../../config'\nimport { electrify as baseElectrify, ElectrifyOptions } from '../../electric'\nimport { WebSocketWeb } from '../../sockets/web'\nimport { ElectricClient, DbSchema } from '../../client/model'\nimport { Database } from './database'\n\nexport { DatabaseAdapter, ElectricDatabase }\nexport type { Database }\n\nexport const electrify = async <T extends Database, DB extends DbSchema<any>>(\n  db: T,\n  dbDescription: DB,\n  config: ElectricConfig = {},\n  opts?: ElectrifyOptions\n): Promise<ElectricClient<DB>> => {\n  const dbName = db.name\n  const adapter = opts?.adapter || new DatabaseAdapter(db)\n  const socketFactory = opts?.socketFactory || WebSocketWeb\n\n  const client = await baseElectrify(\n    dbName,\n    dbDescription,\n    adapter,\n    socketFactory,\n    config,\n    opts\n  )\n\n  return client\n}\n"],"mappings":"AAAA,SAAS,uBAAuB;AAChC,SAAS,wBAAwB;AAEjC,SAAS,aAAa,qBAAuC;AAC7D,SAAS,oBAAoB;AAOtB,MAAM,YAAY,OACvB,IACA,eACA,SAAyB,CAAC,GAC1B,SACgC;AAChC,QAAM,SAAS,GAAG;AAClB,QAAM,UAAU,MAAM,WAAW,IAAI,gBAAgB,EAAE;AACvD,QAAM,gBAAgB,MAAM,iBAAiB;AAE7C,QAAM,SAAS,MAAM;AAAA,IACnB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AAEA,SAAO;AACT;","names":[]}