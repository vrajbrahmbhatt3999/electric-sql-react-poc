{"version":3,"sources":["../../../src/drivers/op-sqlite/index.ts"],"sourcesContent":["import { DbName } from '../../util/types'\n\nimport {\n  ElectrifyOptions,\n  electrify as baseElectrify,\n} from '../../electric/index'\n\nimport { DatabaseAdapter } from './adapter'\nimport { ElectricConfig } from '../../config'\nimport { Database } from './database'\nimport { ElectricClient } from '../../client/model/client'\nimport { DbSchema } from '../../client/model/schema'\nimport { WebSocketReactNative } from '../../sockets/react-native'\n\nexport { DatabaseAdapter }\nexport type { Database }\n\nexport const electrify = async <T extends Database, DB extends DbSchema<any>>(\n  db: T,\n  dbName: DbName,\n  dbDescription: DB,\n  config: ElectricConfig,\n  opts?: ElectrifyOptions\n): Promise<ElectricClient<DB>> => {\n  const adapter = opts?.adapter || new DatabaseAdapter(db)\n  const socketFactory = opts?.socketFactory || WebSocketReactNative\n\n  const namespace = await baseElectrify(\n    dbName,\n    dbDescription,\n    adapter,\n    socketFactory,\n    config,\n    opts\n  )\n\n  return namespace\n}\n"],"mappings":"AAEA;AAAA,EAEE,aAAa;AAAA,OACR;AAEP,SAAS,uBAAuB;AAKhC,SAAS,4BAA4B;AAK9B,MAAM,YAAY,OACvB,IACA,QACA,eACA,QACA,SACgC;AAChC,QAAM,UAAU,MAAM,WAAW,IAAI,gBAAgB,EAAE;AACvD,QAAM,gBAAgB,MAAM,iBAAiB;AAE7C,QAAM,YAAY,MAAM;AAAA,IACtB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AAEA,SAAO;AACT;","names":[]}