{"version":3,"sources":["../../../src/drivers/tauri-postgres/adapter.ts"],"sourcesContent":["import { Database } from './database'\nimport { Row } from '../../util/types'\nimport { Statement } from '../../util'\nimport { SerialDatabaseAdapter as GenericDatabaseAdapter } from '../generic'\nimport { RunResult } from '../../electric/adapter'\n\nexport class DatabaseAdapter extends GenericDatabaseAdapter {\n  readonly db: Database\n  readonly defaultNamespace = 'public'\n\n  constructor(db: Database) {\n    super()\n    this.db = db\n  }\n\n  async _run(statement: Statement): Promise<RunResult> {\n    const { rowsModified } = await this.db.exec(statement)\n    return {\n      rowsAffected: rowsModified,\n    }\n  }\n\n  async _query(statement: Statement): Promise<Row[]> {\n    const { rows } = await this.db.exec(statement)\n    return rows\n  }\n}\n"],"mappings":"AAGA,SAAS,yBAAyB,8BAA8B;AAGzD,MAAM,wBAAwB,uBAAuB;AAAA,EACjD;AAAA,EACA,mBAAmB;AAAA,EAE5B,YAAY,IAAc;AACxB,UAAM;AACN,SAAK,KAAK;AAAA,EACZ;AAAA,EAEA,MAAM,KAAK,WAA0C;AACnD,UAAM,EAAE,aAAa,IAAI,MAAM,KAAK,GAAG,KAAK,SAAS;AACrD,WAAO;AAAA,MACL,cAAc;AAAA,IAChB;AAAA,EACF;AAAA,EAEA,MAAM,OAAO,WAAsC;AACjD,UAAM,EAAE,KAAK,IAAI,MAAM,KAAK,GAAG,KAAK,SAAS;AAC7C,WAAO;AAAA,EACT;AACF;","names":[]}